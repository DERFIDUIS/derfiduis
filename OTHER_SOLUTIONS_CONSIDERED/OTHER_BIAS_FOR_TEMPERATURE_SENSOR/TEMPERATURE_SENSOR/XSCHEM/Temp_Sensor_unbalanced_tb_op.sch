v {xschem version=3.1.0 file_version=1.2
}
G {}
K {}
V {}
S {}
E {}
T {vth = 0.5} 1120 -490 0 0 0.2 0.2 {}
T {vth = 0.436} 1040 -590 0 0 0.2 0.2 {}
T {vth = 0.554} 1230 -490 0 0 0.2 0.2 {}
T {vth = 0.549} 1220 -370 0 0 0.2 0.2 {}
T {vth = 0.436} 1320 -590 0 0 0.2 0.2 {}
T {vgs = 0.6} 1030 -660 0 0 0.2 0.2 {}
T {vgs = 0.6} 1320 -660 0 0 0.2 0.2 {}
T {vgs = 0.524} 1120 -560 0 0 0.2 0.2 {}
T {vgs = 0.57} 1230 -560 0 0 0.2 0.2 {}
T {vgs = 0.6475} 1220 -440 0 0 0.2 0.2 {}
T {vds = 0.986} 1120 -570 0 0 0.2 0.2 {}
T {vds = 0.6} 1030 -670 0 0 0.2 0.2 {}
T {vds = 1.56} 1320 -670 0 0 0.2 0.2 {}
T {vds = 0.0193} 1230 -570 0 0 0.2 0.2 {}
T {vds = 0.2138} 1220 -450 0 0 0.2 0.2 {}
T {vth = 0.593} 540 -380 0 0 0.2 0.2 {}
T {vth = 0.6} 810 -380 0 0 0.2 0.2 {}
T {vgs = vds = 0.7463} 510 -440 0 0 0.2 0.2 {}
T {vgs = 0.699} 810 -450 0 0 0.2 0.2 {}
T {vds = 1.01} 810 -460 0 0 0.2 0.2 {}
T {vth = 0.459} 250 -470 0 0 0.2 0.2 {}
T {vth = 0.459} 470 -470 0 0 0.2 0.2 {}
T {vth = 0.43} 400 -640 0 0 0.2 0.2 {}
T {vth = 0.417} 630 -640 0 0 0.2 0.2 {}
T {vgs = 0.707} 630 -700 0 0 0.2 0.2 {}
T {vds = 0.3165} 630 -710 0 0 0.2 0.2 {}
T {vgs = 0.707} 390 -710 0 0 0.2 0.2 {}
T {vds = 0.707} 390 -720 0 0 0.2 0.2 {}
T {vgs = 0.647} 480 -540 0 0 0.2 0.2 {}
T {vds = 1.082} 480 -550 0 0 0.2 0.2 {}
T {vgs = 0.647} 250 -530 0 0 0.2 0.2 {}
T {vds = 0.647} 250 -540 0 0 0.2 0.2 {}
N 1115 -570 1115 -550 {
lab=#net1}
N 1310 -570 1310 -550 {
lab=out}
N 1115 -490 1115 -450 {
lab=p}
N 1210 -450 1310 -450 {
lab=p}
N 1310 -490 1310 -450 {
lab=p}
N 1115 -520 1210 -520 {
lab=GND}
N 1210 -520 1310 -520 {
lab=GND}
N 1180 -620 1270 -620 {
lab=#net1}
N 1115 -570 1180 -570 {
lab=#net1}
N 1180 -620 1180 -570 {
lab=#net1}
N 1115 -680 1115 -650 {
lab=VDD}
N 1115 -680 1310 -680 {
lab=VDD}
N 1310 -680 1310 -650 {
lab=VDD}
N 1085 -620 1115 -620 {
lab=VDD}
N 1085 -680 1085 -620 {
lab=VDD}
N 1085 -680 1115 -680 {
lab=VDD}
N 1310 -620 1350 -620 {
lab=VDD}
N 1350 -680 1350 -620 {
lab=VDD}
N 1310 -680 1350 -680 {
lab=VDD}
N 1350 -520 1390 -520 {
lab=vp}
N 1210 -450 1210 -430 {
lab=p}
N 1210 -355 1210 -340 {
lab=#net2}
N 1210 -400 1260 -400 {
lab=#net2}
N 1260 -400 1260 -355 {
lab=#net2}
N 1210 -355 1260 -355 {
lab=#net2}
N 1310 -570 1400 -570 {
lab=out}
N 1020 -520 1075 -520 {
lab=vn}
N 1115 -590 1115 -570 {
lab=#net1}
N 1155 -620 1180 -620 {
lab=#net1}
N 1115 -450 1210 -450 {
lab=p}
N 1210 -370 1210 -355 {
lab=#net2}
N 1310 -590 1310 -570 {
lab=out}
N 1400 -570 1450 -570 {
lab=out}
N 1130 -400 1170 -400 {
lab=p1}
N 1210 -520 1210 -490 {
lab=GND}
N 1210 -280 1210 -250 {
lab=GND}
N 690 -410 760 -410 {
lab=vd1}
N 620 -460 690 -460 {
lab=vd1}
N 690 -460 690 -410 {
lab=vd1}
N 620 -360 620 -330 {
lab=vn}
N 800 -360 800 -330 {
lab=vp}
N 800 -490 800 -440 {
lab=vd2}
N 620 -270 620 -240 {
lab=GND}
N 620 -240 800 -240 {
lab=GND}
N 800 -270 800 -240 {
lab=GND}
N 560 -300 580 -300 {
lab=GND}
N 560 -300 560 -240 {
lab=GND}
N 560 -240 620 -240 {
lab=GND}
N 840 -300 860 -300 {
lab=GND}
N 860 -300 860 -240 {
lab=GND}
N 800 -240 860 -240 {
lab=GND}
N 530 -410 620 -410 {
lab=GND}
N 530 -410 530 -240 {
lab=GND}
N 530 -240 560 -240 {
lab=GND}
N 800 -410 890 -410 {
lab=GND}
N 890 -410 890 -240 {
lab=GND}
N 860 -240 890 -240 {
lab=GND}
N 800 -570 800 -550 {
lab=VDD}
N 620 -580 620 -545 {
lab=#net3}
N 620 -460 620 -440 {
lab=vd1}
N 510 -360 620 -360 {
lab=vn}
N 510 -360 510 -190 {
lab=vn}
N 620 -485 620 -460 {
lab=vd1}
N 660 -410 690 -410 {
lab=vd1}
N 800 -380 800 -360 {
lab=vp}
N 620 -380 620 -360 {
lab=vn}
N 250 -660 330 -660 {
lab=VDD}
N 330 -660 330 -630 {
lab=VDD}
N 330 -570 330 -530 {
lab=p1}
N 330 -550 380 -550 {
lab=p1}
N 380 -550 380 -500 {
lab=p1}
N 370 -500 380 -500 {
lab=p1}
N 380 -500 430 -500 {
lab=p1}
N 330 -470 470 -470 {
lab=GND}
N 470 -580 470 -530 {
lab=p2}
N 510 -670 580 -670 {
lab=p2}
N 470 -560 530 -560 {
lab=p2}
N 530 -610 530 -560 {
lab=p2}
N 470 -720 470 -700 {
lab=VDD}
N 470 -710 620 -710 {
lab=VDD}
N 620 -710 620 -700 {
lab=VDD}
N 450 -670 470 -670 {
lab=VDD}
N 450 -720 450 -670 {
lab=VDD}
N 450 -720 470 -720 {
lab=VDD}
N 620 -670 650 -670 {
lab=VDD}
N 650 -710 650 -670 {
lab=VDD}
N 620 -710 650 -710 {
lab=VDD}
N 280 -500 330 -500 {
lab=GND}
N 280 -500 280 -470 {
lab=GND}
N 280 -470 330 -470 {
lab=GND}
N 470 -500 520 -500 {
lab=GND}
N 520 -500 520 -470 {
lab=GND}
N 470 -470 520 -470 {
lab=GND}
N 530 -670 530 -610 {
lab=p2}
N 620 -640 620 -580 {
lab=#net3}
N 800 -360 1000 -360 {
lab=vp}
N 1000 -360 1000 -190 {
lab=vp}
N 1000 -190 1390 -190 {
lab=vp}
N 1390 -520 1390 -190 {
lab=vp}
N 510 -190 950 -190 {
lab=vn}
N 950 -520 950 -190 {
lab=vn}
N 950 -520 1020 -520 {
lab=vn}
N 410 -500 410 -140 {
lab=p1}
N 410 -140 1130 -140 {
lab=p1}
N 1130 -400 1130 -140 {
lab=p1}
C {sky130_fd_pr/nfet_01v8_lvt.sym} 1095 -520 0 0 {name=M1
L=2
W=20
nf=4
mult=1
ad="'int((nf+1)/2) * W/nf * 0.29'" 
pd="'2*int((nf+1)/2) * (W/nf + 0.29)'"
as="'int((nf+2)/2) * W/nf * 0.29'" 
ps="'2*int((nf+2)/2) * (W/nf + 0.29)'"
nrd="'0.29 / W'" nrs="'0.29 / W'"
sa=0 sb=0 sd=0
model=nfet_01v8_lvt
spiceprefix=X
}
C {sky130_fd_pr/nfet_01v8_lvt.sym} 1330 -520 0 1 {name=M2
L=0.5
W=20
nf=4
mult=1
ad="'int((nf+1)/2) * W/nf * 0.29'" 
pd="'2*int((nf+1)/2) * (W/nf + 0.29)'"
as="'int((nf+2)/2) * W/nf * 0.29'" 
ps="'2*int((nf+2)/2) * (W/nf + 0.29)'"
nrd="'0.29 / W'" nrs="'0.29 / W'"
sa=0 sb=0 sd=0
model=nfet_01v8_lvt
spiceprefix=X
}
C {devices/vdd.sym} 1230 -680 0 0 {name=l1 lab=VDD}
C {devices/lab_pin.sym} 1440 -570 1 0 {name=p6 sig_type=std_logic lab=out}
C {devices/lab_pin.sym} 1115 -450 0 0 {name=p5 sig_type=std_logic lab=p}
C {devices/ammeter.sym} 1210 -310 0 0 {name=vmeas}
C {sky130_fd_pr/nfet_01v8.sym} 1190 -400 0 0 {name=M5
L=2
W=5
nf=1 
mult=4
ad="'int((nf+1)/2) * W/nf * 0.29'" 
pd="'2*int((nf+1)/2) * (W/nf + 0.29)'"
as="'int((nf+2)/2) * W/nf * 0.29'" 
ps="'2*int((nf+2)/2) * (W/nf + 0.29)'"
nrd="'0.29 / W'" nrs="'0.29 / W'"
sa=0 sb=0 sd=0
model=nfet_01v8
spiceprefix=X
}
C {sky130_fd_pr/pfet_01v8_lvt.sym} 1135 -620 0 1 {name=M3
L=2
W=5
nf=1
mult=4
ad="'int((nf+1)/2) * W/nf * 0.29'" 
pd="'2*int((nf+1)/2) * (W/nf + 0.29)'"
as="'int((nf+2)/2) * W/nf * 0.29'" 
ps="'2*int((nf+2)/2) * (W/nf + 0.29)'"
nrd="'0.29 / W'" nrs="'0.29 / W'"
sa=0 sb=0 sd=0
model=pfet_01v8_lvt
spiceprefix=X
}
C {sky130_fd_pr/pfet_01v8_lvt.sym} 1290 -620 0 0 {name=M4
L=2
W=5
nf=1
mult=4
ad="'int((nf+1)/2) * W/nf * 0.29'" 
pd="'2*int((nf+1)/2) * (W/nf + 0.29)'"
as="'int((nf+2)/2) * W/nf * 0.29'" 
ps="'2*int((nf+2)/2) * (W/nf + 0.29)'"
nrd="'0.29 / W'" nrs="'0.29 / W'"
sa=0 sb=0 sd=0
model=pfet_01v8_lvt
spiceprefix=X
}
C {sky130_fd_pr/cap_mim_m3_1.sym} 1450 -540 0 0 {name=C1 model=cap_mim_m3_1 W=10 L=10 MF=1 spiceprefix=X}
C {devices/gnd.sym} 1450 -510 0 0 {name=l3 lab=GND}
C {devices/gnd.sym} 1210 -490 0 0 {name=l8 lab=GND}
C {devices/gnd.sym} 1210 -250 0 0 {name=l5 lab=GND}
C {devices/code_shown.sym} 1557.5 -952.5 0 0 {name=simulation1 only_toplevel=false 
value="* Data to save
.save all
+ @M.XM1.msky130_fd_pr__nfet_01v8_lvt[id]
+ @M.XM1.msky130_fd_pr__nfet_01v8_lvt[vds]
+ @M.XM1.msky130_fd_pr__nfet_01v8_lvt[vgs]
+ @M.XM1.msky130_fd_pr__nfet_01v8_lvt[vth]
+ @M.XM2.msky130_fd_pr__nfet_01v8_lvt[id]
+ @M.XM2.msky130_fd_pr__nfet_01v8_lvt[vds]
+ @M.XM2.msky130_fd_pr__nfet_01v8_lvt[vgs]
+ @M.XM2.msky130_fd_pr__nfet_01v8_lvt[vth]
+ @M.XM3.msky130_fd_pr__pfet_01v8_lvt[id]
+ @M.XM3.msky130_fd_pr__pfet_01v8_lvt[vds]
+ @M.XM3.msky130_fd_pr__pfet_01v8_lvt[vgs]
+ @M.XM3.msky130_fd_pr__pfet_01v8_lvt[vth]
+ @M.XM4.msky130_fd_pr__pfet_01v8_lvt[id]
+ @M.XM4.msky130_fd_pr__pfet_01v8_lvt[vds]
+ @M.XM4.msky130_fd_pr__pfet_01v8_lvt[vgs]
+ @M.XM4.msky130_fd_pr__pfet_01v8_lvt[vth]
+ @M.XM5.msky130_fd_pr__nfet_01v8[id]
+ @M.XM5.msky130_fd_pr__nfet_01v8[vds]
+ @M.XM5.msky130_fd_pr__nfet_01v8[vgs]
+ @M.XM5.msky130_fd_pr__nfet_01v8[vth]
+ @M.XM6.msky130_fd_pr__nfet_01v8_lvt[id]
+ @M.XM6.msky130_fd_pr__nfet_01v8_lvt[vds]
+ @M.XM6.msky130_fd_pr__nfet_01v8_lvt[vgs]
+ @M.XM6.msky130_fd_pr__nfet_01v8_lvt[vth]
+ @M.XM7.msky130_fd_pr__nfet_01v8_lvt[id]
+ @M.XM7.msky130_fd_pr__nfet_01v8_lvt[vds]
+ @M.XM7.msky130_fd_pr__nfet_01v8_lvt[vgs]
+ @M.XM7.msky130_fd_pr__nfet_01v8_lvt[vth]
+ @M.XM8.msky130_fd_pr__nfet_01v8_lvt[id]
+ @M.XM8.msky130_fd_pr__nfet_01v8_lvt[vds]
+ @M.XM8.msky130_fd_pr__nfet_01v8_lvt[vgs]
+ @M.XM8.msky130_fd_pr__nfet_01v8_lvt[vth]
+ @M.XM9.msky130_fd_pr__nfet_01v8_lvt[id]
+ @M.XM9.msky130_fd_pr__nfet_01v8_lvt[vds]
+ @M.XM9.msky130_fd_pr__nfet_01v8_lvt[vgs]
+ @M.XM9.msky130_fd_pr__nfet_01v8_lvt[vth]
+ @M.XM10.msky130_fd_pr__pfet_01v8_lvt[id]
+ @M.XM10.msky130_fd_pr__pfet_01v8_lvt[vds]
+ @M.XM10.msky130_fd_pr__pfet_01v8_lvt[vgs]
+ @M.XM10.msky130_fd_pr__pfet_01v8_lvt[vth]
+ @M.XM11.msky130_fd_pr__pfet_01v8_lvt[id]
+ @M.XM11.msky130_fd_pr__pfet_01v8_lvt[vds]
+ @M.XM11.msky130_fd_pr__pfet_01v8_lvt[vgs]
+ @M.XM11.msky130_fd_pr__pfet_01v8_lvt[vth]

.op
"}
C {devices/launcher.sym} 1650 -50 0 0 {name=h1
descr=Backannotate
 tclcommand="set show_hidden_texts 1; xschem annotate_op"}
C {devices/gnd.sym} 720 -240 0 0 {name=l10 lab=GND}
C {sky130_fd_pr/nfet_01v8_lvt.sym} 640 -410 0 1 {name=M6
L=2
W=4
nf=1
mult=1
ad="'int((nf+1)/2) * W/nf * 0.29'" 
pd="'2*int((nf+1)/2) * (W/nf + 0.29)'"
as="'int((nf+2)/2) * W/nf * 0.29'" 
ps="'2*int((nf+2)/2) * (W/nf + 0.29)'"
nrd="'0.29 / W'" nrs="'0.29 / W'"
sa=0 sb=0 sd=0
model=nfet_01v8_lvt
spiceprefix=X
}
C {sky130_fd_pr/pnp_05v5.sym} 600 -300 0 0 {name=Q1
model=pnp_05v5_W3p40L3p40
m=1
spiceprefix=X
}
C {sky130_fd_pr/nfet_01v8_lvt.sym} 780 -410 0 0 {name=M7
L=2
W=4
nf=1
mult=10
ad="'int((nf+1)/2) * W/nf * 0.29'" 
pd="'2*int((nf+1)/2) * (W/nf + 0.29)'"
as="'int((nf+2)/2) * W/nf * 0.29'" 
ps="'2*int((nf+2)/2) * (W/nf + 0.29)'"
nrd="'0.29 / W'" nrs="'0.29 / W'"
sa=0 sb=0 sd=0
model=nfet_01v8_lvt
spiceprefix=X
}
C {sky130_fd_pr/pnp_05v5.sym} 820 -300 0 1 {name=Q2
model=pnp_05v5_W3p40L3p40
m=1
spiceprefix=X
}
C {devices/vdd.sym} 800 -570 0 0 {name=l11 lab=VDD}
C {devices/vsource.sym} 262.5 -122.5 0 0 {name=V5 value=1.8}
C {devices/vdd.sym} 262.5 -152.5 0 0 {name=l12 lab=VDD}
C {devices/gnd.sym} 262.5 -92.5 0 1 {name=l13 lab=GND}
C {devices/lab_pin.sym} 800 -360 0 0 {name=p1 sig_type=std_logic lab=vp}
C {devices/lab_pin.sym} 620 -360 2 0 {name=p2 sig_type=std_logic lab=vn}
C {devices/ammeter.sym} 800 -520 0 0 {name=vmeas1}
C {devices/ammeter.sym} 620 -515 0 0 {name=vmeas2}
C {devices/lab_pin.sym} 620 -460 0 0 {name=p3 sig_type=std_logic lab=vd1}
C {devices/lab_pin.sym} 800 -460 0 0 {name=p4 sig_type=std_logic lab=vd2}
C {devices/code.sym} 227.5 -362.5 0 0 {name=TT_MODELS1
only_toplevel=true
format="tcleval( @value )"
value="
** opencircuitdesign pdks install
.lib $::SKYWATER_MODELS/sky130.lib.spice tt

"
spice_ignore=false}
C {devices/ngspice_get_value.sym} 690 -420 0 0 {name=r1 node=v(@M.XM1.msky130_fd_pr__nfet_01v8_lvt[vth])
descr="vth="}
C {devices/isource.sym} 330 -600 0 0 {name=I1 value=10u}
C {devices/vdd.sym} 250 -660 0 0 {name=l14 lab=VDD}
C {sky130_fd_pr/nfet_01v8_lvt.sym} 350 -500 0 1 {name=M8
L=2
W=4
nf=1
mult=1
ad="'int((nf+1)/2) * W/nf * 0.29'" 
pd="'2*int((nf+1)/2) * (W/nf + 0.29)'"
as="'int((nf+2)/2) * W/nf * 0.29'" 
ps="'2*int((nf+2)/2) * (W/nf + 0.29)'"
nrd="'0.29 / W'" nrs="'0.29 / W'"
sa=0 sb=0 sd=0
model=nfet_01v8_lvt
spiceprefix=X
}
C {devices/gnd.sym} 330 -470 0 0 {name=l15 lab=GND}
C {sky130_fd_pr/nfet_01v8_lvt.sym} 450 -500 0 0 {name=M9
L=2
W=4
nf=1
mult=1
ad="'int((nf+1)/2) * W/nf * 0.29'" 
pd="'2*int((nf+1)/2) * (W/nf + 0.29)'"
as="'int((nf+2)/2) * W/nf * 0.29'" 
ps="'2*int((nf+2)/2) * (W/nf + 0.29)'"
nrd="'0.29 / W'" nrs="'0.29 / W'"
sa=0 sb=0 sd=0
model=nfet_01v8_lvt
spiceprefix=X
}
C {sky130_fd_pr/pfet_01v8_lvt.sym} 490 -670 0 1 {name=M10
L=2
W=4
nf=1
mult=1
ad="'int((nf+1)/2) * W/nf * 0.29'" 
pd="'2*int((nf+1)/2) * (W/nf + 0.29)'"
as="'int((nf+2)/2) * W/nf * 0.29'" 
ps="'2*int((nf+2)/2) * (W/nf + 0.29)'"
nrd="'0.29 / W'" nrs="'0.29 / W'"
sa=0 sb=0 sd=0
model=pfet_01v8_lvt
spiceprefix=X
}
C {sky130_fd_pr/pfet_01v8_lvt.sym} 600 -670 0 0 {name=M11
L=2
W=4
nf=1
mult=1
ad="'int((nf+1)/2) * W/nf * 0.29'" 
pd="'2*int((nf+1)/2) * (W/nf + 0.29)'"
as="'int((nf+2)/2) * W/nf * 0.29'" 
ps="'2*int((nf+2)/2) * (W/nf + 0.29)'"
nrd="'0.29 / W'" nrs="'0.29 / W'"
sa=0 sb=0 sd=0
model=pfet_01v8_lvt
spiceprefix=X
}
C {devices/vdd.sym} 470 -720 0 0 {name=l16 lab=VDD}
C {devices/lab_pin.sym} 410 -500 1 0 {name=p8 sig_type=std_logic lab=p1}
C {devices/lab_pin.sym} 560 -670 1 0 {name=p9 sig_type=std_logic lab=p2}
C {devices/ammeter.sym} 470 -610 0 0 {name=Vmeas3}
